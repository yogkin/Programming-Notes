# 正则表达式

正则表达式，又称正规表示式、正规表示法、规则表达式、常规表示法（英语：Regular Expression，在代码中常简写为regex、regexp或RE），是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列匹配某个句法规则的字符串。在很多文本编辑器里，正则表达式通常被用来检索、替换那些匹配某个模式的文本。

正则表达式是一个特殊的字符序列，用来检测一个字符串是否匹配正则表达式所定义的规则。

## 元字符

- 元字符，有特殊意义的字符，比如'\d'表示匹配数字：`[0-9]`
- 普通字符，即一般的字符

正则表达式可由普通字符和元字符组成。

## 掌握API

re模块

- findall：在字符串中找到正则表达式所匹配的所有子串，并返回一个列表，如果没有找到匹配的，则返回空列表。
- sub：将匹配到的数据进行替换
- search：扫描整个字符串并返回第一个成功的匹配
- match：re.match是用来进行正则匹配检查的方法，若字符串匹配正则表达式，则match方法返回匹配对象（Match Object），否则返回None（注意不是空字符串""）。
匹配对象Match Object具有group方法，用来返回字符串的匹配部分。re.match() 能够匹配出以xxx开头的字符串
- split：根据匹配进行切割字符串，并返回一个列表

## 贪婪与非贪婪

Python里数量词默认是贪婪的（在少数语言里也可能是默认非贪婪），总是尝试匹配尽可能多的字符；非贪婪则相反，总是尝试匹配尽可能少的字符。

在`"*","?","+","{m,n}"`后面加上`？`，使贪婪变成非贪婪。

```
>>> s="This is a number 234-235-22-423"
>>> r=re.match(".+(\d+-\d+-\d+-\d+)",s)
>>> r.group(1)
'4-235-22-423'
>>> r=re.match(".+?(\d+-\d+-\d+-\d+)",s)
>>> r.group(1)
'234-235-22-423'
>>>

>>> re.match(r"aa(\d+)","aa2343ddd").group(1)
'2343'
>>> re.match(r"aa(\d+?)","aa2343ddd").group(1)
'2'
>>> re.match(r"aa(\d+)ddd","aa2343ddd").group(1) 
'2343'
>>> re.match(r"aa(\d+?)ddd","aa2343ddd").group(1)
'2343'
```
